{"version":3,"sources":["userController.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"controllers.js","sourcesContent":["rhythmiq.controller('userController', ['$scope', '$sce', '$location', 'userModel', function($scope, $sce, $location, userModel){ \n    $scope.songs = [\n            {\n                id: 'one',\n                title: 'Rain',\n                artist: 'Drake',\n                url: 'http://www.schillmania.com/projects/soundmanager2/demo/_mp3/rain.mp3'\n            },\n            {\n                id: 'two',\n                title: 'Walking',\n                artist: 'Nicki Minaj',\n                url: 'http://www.schillmania.com/projects/soundmanager2/demo/_mp3/walking.mp3'\n            },\n            {\n                id: 'three',\n                title: 'Barrlping with Carl (featureblend.com)',\n                artist: 'Akon',\n                url: 'http://www.freshly-ground.com/misc/music/carl-3-barlp.mp3'\n            },\n            {\n                id: 'four',\n                title: 'Angry cow sound?',\n                artist: 'A Cow',\n                url: 'http://www.freshly-ground.com/data/audio/binaural/Mak.mp3'\n            },\n            {\n                id: 'five',\n                title: 'Things that open, close and roll',\n                artist: 'Someone',\n                url: 'http://www.freshly-ground.com/data/audio/binaural/Things%20that%20open,%20close%20and%20roll.mp3'\n            }\n    ];\n\n    if($location.$$path == '/register') {\n        userModel.getCityList().then(function(response){\n            $scope.data = {\n                cities: response.data,\n            };\n            $scope.selectedCity = $scope.data.cities[0];\n        }).catch(function(response) {\n        });\n    }\n\n    angular.extend($scope, {\n        login: {\n            email_address: 'kkevinyee13@gmail.com',\n            password: 'Jesuszone#123'\n        },\n\n        register: {\n            email_address: 'kevin.yee19@gmail.com',\n            username: 'kevin.yee',\n            password: 'Jesuszone#123',\n            confirm_password: 'Jesuszone#123',\n        }\n    });\n\n\n    angular.extend($scope, {\n        doLogin: function(loginForm) {\n            var user = {\n                email_address: $scope.login.email_address,\n                password: $scope.login.password\n            };\n            userModel.doLogin(user).then(function(){\n                $location.path('/home');\n            }).catch(function(response) {\n                alert('Incorrect email or password!');\n            });\n        },\n        doLogout: function() {\n            userModel.doUserLogout().then(function(){\n                $location.path('/');\n            }).catch(function(response) {\n            });\n        },\n\n        doRegister: function(registerForm) {\n            var user = {\n                email_address: $scope.register.email_address,\n                username: $scope.register.username,\n                password: $scope.register.password,\n                confirm_password: $scope.register.confirm_password,\n                date_of_birth: $scope.register.date_of_birth,\n                city_id: $scope.selectedCity.city_id,\n            };\n            userModel.doRegister(user).then(function(){\n\n                var user = {\n                    email_address: $scope.register.email_address,\n                    password: $scope.register.password\n                };\n                alert('Registration Successful! Click okay to login.');\n                userModel.doLogin(user).then(function(){\n                    $location.path('/home');\n                }).catch(function(response) {\n                });\n\n            }).catch(function(response) {\n                var error = '';\n                angular.forEach(response.data, function(value, key) {\n                   error = error + value + '<br>';\n                });\n                $scope.register.error = error;\n                $scope.showerror = true;\n            });\n        }\n    });\n}]);"]}